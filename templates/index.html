{% extends "base.html" %}

{% block content %}
<h2>播客列表</h2>

{% if episodes|length > 0 %}
    <div class="episodes-list">
        {% for episode in episodes %}
        <div class="episode-card">
            <h3>{{ episode.title }}</h3>
            <div class="episode-meta">
                <span class="episode-date">{{ episode.pub_date }}</span>
            </div>
            <p class="episode-description">{{ episode.description }}</p>
            <a href="{{ url_for('episode', episode_id=episode.id) }}" class="planet-button" style="display: inline-flex; align-items: center; justify-content: center; width: 60px; height: 60px; border-radius: 50%; border: 2px solid var(--primary-color); color: var(--secondary-color); background: rgba(2, 4, 16, 0.7); transition: all 0.3s ease; text-decoration: none; position: relative; overflow: hidden; z-index: 10; font-size: 0;">
                <span style="font-size: 24px;">🔊</span>
                <span class="planet-effect" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle at center, rgba(247, 140, 170, 0.9) 0%, rgba(85, 205, 252, 0.8) 30%, rgba(247, 140, 170, 0.7) 60%, transparent 100%), linear-gradient(0deg, rgba(255, 100, 100, 0.8) 0%, rgba(255, 160, 80, 0.8) 16.6%, rgba(255, 240, 70, 0.8) 33.3%, rgba(100, 230, 100, 0.8) 50%, rgba(80, 170, 255, 0.8) 66.6%, rgba(180, 100, 255, 0.8) 83.3%, rgba(247, 140, 170, 0.8) 100%); opacity: 0; z-index: -1; transition: opacity 0.3s ease; border-radius: 50%;"></span>
            </a>
            
            {% if episode.is_demo %}
            <span style="display: inline-block; margin-top: 8px; font-size: 0.8em; color: #ff5fd7;">* 演示播客</span>
            {% endif %}
        </div>
        {% endfor %}
    </div>
{% else %}
    <p>还没有上传任何播客。</p>
{% endif %}

<div class="subscription-guide">
    <h3>如何订阅</h3>
    <p>将本站的 RSS Feed 地址添加到您的播客应用中：</p>
    <code>{{ site_url }}/feed.xml</code>
</div>
{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    var buttons = document.querySelectorAll('.planet-button');
    buttons.forEach(function(button) {
        var effect = button.querySelector('.planet-effect');
        button.addEventListener('mouseenter', function() {
            effect.style.opacity = '1';
            button.style.transform = 'scale(1.1)';
            button.style.boxShadow = '0 0 15px rgba(0, 204, 255, 0.6)';
            button.style.borderColor = 'rgba(255, 255, 255, 0.9)';
        });
        button.addEventListener('mouseleave', function() {
            effect.style.opacity = '0';
            button.style.transform = 'scale(1)';
            button.style.boxShadow = 'none';
            button.style.borderColor = '';
        });
    });
});
</script>
{% endblock %}