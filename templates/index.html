{% extends 'base.html' %}

{% block title %}{{ site_name }} - {{ site_description }}{% endblock %}

{% block content %}
    <h2>æœ€æ–°æ’­å®¢</h2>
    
    <div class="episodes-list">
        {% if episodes %}
            {% for episode in episodes %}
            <div class="episode-card">
                <h3>{{ episode.title }}</h3>
                <div class="episode-meta">
                    <span>å‘å¸ƒäº: {{ episode.pub_date }}</span>
                    {% if episode.duration %}
                    <span>æ—¶é•¿: {{ episode.duration//60 }}:{{ '%02d'|format(episode.duration%60) }}</span>
                    {% endif %}
                    {% if episode.password %}
                    <span class="locked-indicator">ğŸ”’ å—å¯†ç ä¿æŠ¤</span>
                    {% endif %}
                </div>
                <div class="episode-description">{{ episode.description|safe|truncate(150) }}</div>
                <a href="{{ url_for('episode', episode_id=episode.id) }}" class="button">
                    {% if episode.password %}
                    è¾“å…¥å¯†ç æ”¶å¬
                    {% else %}
                    æ”¶å¬æ’­å®¢
                    {% endif %}
                </a>
            </div>
            {% endfor %}
        {% else %}
            <p>ç›®å‰è¿˜æ²¡æœ‰æ’­å®¢å†…å®¹ã€‚</p>
        {% endif %}
    </div>
    
    <div class="subscription-guide">
        <h3>è®¢é˜…æ’­å®¢</h3>
        <p>æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¢é˜…æˆ‘ä»¬çš„æ’­å®¢:</p>
        <ul>
            <li>RSS Feed: <code>{{ url_for('feed', _external=True) }}</code></li>
            <li>å°†ä¸Šé¢çš„é“¾æ¥æ·»åŠ åˆ°æ‚¨å–œæ¬¢çš„æ’­å®¢åº”ç”¨ä¸­</li>
        </ul>
    </div>
{% endblock %}